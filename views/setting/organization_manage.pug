extends ../components/base
block title
    title 组织机构管理
block style
    link(rel='stylesheet', href=__CSS_PATH__ + '/news.css')
block aside_content
    include ../components/mixin
    -var routerObj = [{link:'/',text:'应用',icon:'icon-app'},{link:'/message',text:'消息',icon:'icon-message2'},{link:'/setting/user_manage',text:'平台管理',icon:'icon-setting'}]
    +asideNav(routerObj,2)
block main_content
    include ../components/mixin
    -var menuObj = [{link:'/setting/organization_manage',text:'平台自身管理'},{link:'/setting/app_create',text:'对接系统管理'},{link:'#',text:'第三方应用系统管理'}]
    +menuLink(menuObj,0)
    -var navObj = [{link:'#',text:'组织机构管理'},{link:'/setting/user_manage',text:'用户管理'},{link:'/setting/role_manage',text:'角色权限管理'},{link:'/setting/region_manage',text:'行政区划分'},{link:'/setting/log_manage',text:'日志管理'}]
    +menuNav(navObj,0)
    div.nav-handle.clearfix
        .nav-name 组织机构管理
        .handle-wrapper
            button.btn.btn-default.btn-sm(type='button' style='margin-left:20px') 新增
            button.btn.btn-warning.btn-sm(type='button' style='margin-left:20px') 删除
    #inner-wrapper
        .container-wrapper
            .structure
                ul.structure-tree
                    li.structure-node.open-node 组织架构信息
                        ul.structure-tree
                            li.structure-node.open-node
                                span.active 吴江交通运输局
                                ul.structure-tree
                                    li.structure-node.close-node 一级部门1
                                        ul.structure-tree
                                            li.structure-node 二级部门1
                                            li.structure-node 二级部门2
                                    li.structure-node 一级部门2
                            li.structure-node.open-node 汽车研究院
                                ul.structure-tree
                                    li.structure-node.open-node 一级部门1
                                        ul.structure-tree
                                            li.structure-node 二级部门1
                                    li.structure-node.open-node 一级部门2
                                        ul.structure-tree
                                            li.structure-node 二级部门1
                                    li.structure-node 一级部门3

            .content-list.section-block
                table.table.table-bordered
                    thead
                        tr
                            td  序号
                            td  部门名称
                            td  上级部门
                            td  排序
                            td  操作
                    tbody
                        tr
                            td 1
                            td.link  关于江培训
                            td  吴江交通运输局
                            td  2
                            td.link 编辑
                        tr
                            td 1
                            td.link  关于训
                            td  吴江交通运输局
                            td  2
                            td.link 编辑
block script
    script(type='text/javascript').
        $('.open-node').on('click', function (e) {
            if ($(this).hasClass('close-node')) {
                $(this).removeClass('close-node').addClass('open-node').find('ul').first().show()
            } else {
                $(this).removeClass('open-node').addClass('close-node').find('ul').first().hide()
            }
            e.stopPropagation();//阻止冒泡
        });








